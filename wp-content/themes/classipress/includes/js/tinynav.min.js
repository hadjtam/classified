!function(e,t,a){e.fn.tinyNav=function(n){var i=e.extend({active:"selected",header:"",header_href:"",force_header:!1,indent:"-",label:"",excluded:[]},n);return this.each(function(){a++;var n=e(this),l="tinynav"+a,r=".l_"+l,d=e("<select/>").attr("id",l).addClass("tinynav "+l),h=function(e){var t="";for(t in i.excluded)if(1==e.parents(i.excluded[t]).length)return!0;return!1};if(n.is("ul,ol")){""!==i.header&&(""!==i.header_href?d.append(e("<option/>").text(i.header).val(i.header_href)):d.append(e("<option/>").text(i.header)));var s="";n.addClass("l_"+l).find("li > a").each(function(){if(!h(e(this))){s+='<option value="'+e(this).attr("href")+'"',e(this).parent("li").hasClass(i.active)&&(s+=' selected="selected" '),s+=">";var t;for(t=0;t<e(this).parents("ul, ol").length-1;t++)s+=i.indent;s+=" "+e(this).text()+"</option>"}}),d.append(s),d.change(function(){t.location.href=e(this).val()}),e(r).after(d),i.label&&d.before(e("<label/>").attr("for",l).addClass("tinynav_label "+l+"_label").append(i.label))}})}}(jQuery,this,0);
